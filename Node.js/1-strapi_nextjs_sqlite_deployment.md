# README.md

# مستندات استقرار پروژه Strapi + Next.js با دیتابیس SQLite

## معرفی پروژه‌ها

این مستند مربوط به دو پروژه است که برای یک شرکت کوچک طراحی شده‌اند:

1. **پنل ادمین CMS با Strapi**  
   - نسخه Strapi: 4.20.3  
   - هدف: مدیریت محتوای سایت (صفحات درباره ما، اطلاعات تماس، پروژه‌ها)  
   - دیتابیس: **SQLite** (فایل‌بیس، نیازی به سرور دیتابیس جداگانه نیست)

2. **سایت فرانت‌اند با Next.js**  
   - نسخه Next.js: 14 + React 18  
   - هدف: نمایش محتوای سایت به کاربران نهایی

---

## تغییرات اعمال شده

با توجه به محدودیت‌های هاست اشتراکی و نیاز به ساده‌سازی پروژه، تغییرات زیر انجام شد:

- حذف **PostgreSQL** و جایگزینی با **SQLite** برای ساده کردن استقرار روی هاست اشتراکی  
- انتقال **Environment Variables** از پنل هاست (لیارا) به یک **فایل `.env`** در روت پروژه  
- اطمینان از اینکه فولدرهایی که Strapi نیاز به نوشتن دارند (مثل `.tmp` و `public/uploads`) دسترسی **read/write** دارند

---

## تنظیمات و نیازمندی‌ها

### 1. Strapi (پنل ادمین)

- دیتابیس: SQLite  
- دستورات مورد نیاز:
```bash
npm install
npm run build
npm run start
```
- پورت پیش‌فرض: 1337  
- پشتیبانی Node.js: نسخه 18 تا 20  
- Environment Variables در فایل `.env`:
  - `APP_KEYS` (کلیدهای امنیتی Strapi)  
  - `DATABASE_CLIENT=sqlite`  
  - `PORT` و `HOST`

### 2. Next.js (سایت فرانت‌اند)

- دستورات مورد نیاز:
```bash
npm install
npm run build
npm run start
```
- Environment Variables در صورت نیاز در فایل `.env.local` قابل تنظیم هستند  
- اجرای پروژه با Next.js 14 و React 18  
- Node.js نسخه 18+

---

## نکات اجرایی مهم

- دیتابیس **SQLite** تمام داده‌ها را داخل یک فایل نگه می‌دارد (فایل `.tmp/data.db`)  
- نیازی به سرور دیتابیس جداگانه نیست  
- برای بکاپ گرفتن از داده‌ها کافی است همین فایل `.db` را کپی کنید  
- فولدر `.tmp` و `public/uploads` باید روی هاست **قابل نوشتن** باشند  
- پروژه برای **سایت‌های کوچک و محتوای محدود** بهینه است و نیازی به VPS ندارد

---

## جمع‌بندی

- پروژه شامل دو بخش **پنل Strapi** و **سایت Next.js** است  
- با تغییر دیتابیس به **SQLite** و انتقال Environment Variables به فایل `.env`، پروژه آماده اجرا روی **هاست Node.js اشتراکی** شد  
- دستورات اجرای پروژه برای هر دو بخش مشخص است و نیازی به تنظیمات پیچیده سرور یا VPS نیست

---

> این مستند می‌تواند به عنوان راهنمای استقرار و نگهداری پروژه روی لوکال یا سرور استفاده شود.

