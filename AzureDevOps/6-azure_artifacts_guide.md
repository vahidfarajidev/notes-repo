# ููู Artifact ุฏุฑ Azure DevOps

ุฏุฑ ุฏูุง **CI/CD**ุ ููููู **Artifact** ููุด ฺฉูุฏ ุฏุงุฑุฏ. ุงู ููุงูู ุจู ุฒุจุงู ุณุงุฏู ุชูุถุญ ูโุฏูุฏ Artifact ฺุณุชุ ฺุฑุง ููู ุงุณุช ู ฺุทูุฑ ุฏุฑ Azure DevOps ุงุณุชูุงุฏู ูโุดูุฏ.

---

## ๐งฑ 1. Artifact ฺุณุชุ

ุฏุฑ ูุงูุน Artifact ููุงู **ุฎุฑูุฌ ููุง ูุฑุญููโ Build** ุงุณุช ฺฉู ุจุฑุง ูุฑุงุญู ุจุนุฏ (ูุซู Deploy) ูุงุจู ุงุณุชูุงุฏู ุงุณุช.  
ุจู ุทูุฑ ูุซุงู ุฏุฑ ูพุฑูฺูโูุง .NET ุฎุฑูุฌโูุง ูโุชูุงููุฏ ุดุงูู ููุงุฑุฏ ุฒุฑ ุจุงุดูุฏ:

- ูุงูโูุง DLL ู EXE
- ูุงูโูุง publish-ready ุจุฑุง deployment
- ูุงูโูุง ูพฺฉุฑุจูุฏ (appsettings.json ู ุบุฑู)
- ูุฑ ูุงู ุฏฺฏุฑ ฺฉู ุจุฑุง ุงุฌุฑุง ุงูพูฺฉุดู ูุงุฒู ุงุณุช

> ุจู ุจุงู ุณุงุฏู: Artifact ููุงู "ุจุณุชูโ ุขูุงุฏู ุจุฑุง ุงุฑุณุงู" ุงุณุช.

---
## ๐ ูุดุงูุฏู ู ุฏุงูููุฏ Artifact

ุจุนุฏ ุงุฒ ุงุฌุฑุง Pipeline:
1. ูุงุฑุฏ **Azure DevOps โ Pipelines โ Runs** ุดูุฏ.  
2. ุฑู ุงุฌุฑุง ููุฑุฏ ูุธุฑ ฺฉูฺฉ ฺฉูุฏ.  
3. ุฏุฑ ุจุฎุด **Summary**ุ ููฺฉ **1 published** ูุฑุจูุท ุจู Artifact ุฑุง ูุดุงูุฏู ูโฺฉูุฏ.  
4. ุจุง ฺฉูฺฉ ุฑู ุงู ููฺฉ ูโุชูุงูุฏ:
   - ูุญุชูุงุช Artifact ุฑุง ุจุจูุฏ.
   - ุง ูุงู ZIP ุขู ุฑุง ุฏุงูููุฏ ฺฉูุฏ.
---
  

## ๐งฉ 2. ูุณุฑ Artifact Staging Directory

ุฏุฑ Azure DevOpsุ pipeline ุจุฑุง ุฐุฎุฑูโุณุงุฒ ูููุช ุฎุฑูุฌ build ุงุฒ ฺฉ ูุณุฑ ูพุดโูุฑุถ ุงุณุชูุงุฏู ูโฺฉูุฏ:

```
$(Build.ArtifactStagingDirectory)
```

ุงู ูุณุฑ ู ูพูุดู ูููุชู ุฑู ูุงุดู build agent (ูุซูุงู Ubuntu VM) ฺฉู Azure DevOps ุจุฑุงุช ูโุณุงุฒู. Pipeline ุชู ุงูู ูพูุดู ูุงูโูุง ุฎุฑูุฌ build ุฑู ุฌูุน ูโฺฉูู.

ุฏุฑ YAML ูุง ุงู ุฎุท ุจุงุนุซุด ูโุดู:

```yaml
- script: dotnet publish --configuration Release --no-build -o $(Build.ArtifactStagingDirectory)
  displayName: 'dotnet publish'
```

ุงู ุฏุณุชูุฑ ูพุฑูฺู ุฑุง **publish** ูโฺฉูุฏ ู ุฎุฑูุฌ ููุง ุฑุง ุฏุฑ ูพูุดู staging ูุฑุงุฑ ูโุฏูุฏ.

---

## ๐ฆ 3. ุงูุชุดุงุฑ Artifact

ูพุณ ุงุฒ build ู publishุ ูุงูโูุง ุจุงุฏ ุจุฑุง ูุฑุงุญู ุจุนุฏ ูฺฏูุฏุงุฑ ุดููุฏ. ุฏุฑ Azure DevOps ุงู ฺฉุงุฑ ุจุง **PublishBuildArtifacts** ุงูุฌุงู ูโุดูุฏ. ุฏุฑ ูุงูุน ููุท build ฺฉุฑุฏู ฺฉุงู ูุณุช โ ฺูู Azure DevOps ุจุนุฏ ุงุฒ ุงุชูุงู job ุงูู ูุงุดู ุฑู ูพุงฺฉ ูโฺฉูู! ุจุฑุง ุงูฺฉู ูุงูโูุง ุณุงุฎุชูโุดุฏู ุฑู ูฺฏูโุฏุงุฑู (ูุซูุงู ุจุฑุง Deploy ุง Download)ุ ุจุงุฏ ุจฺฏู:

```yaml
- task: PublishBuildArtifacts@1
  inputs:
    PathtoPublish: '$(Build.ArtifactStagingDirectory)'
    ArtifactName: 'drop'
    publishLocation: 'Container'
```

ุงู ฺฉุงุฑ ุจุงุนุซ ูโุดูุฏ:
- Azure DevOps ูุงูโูุง staging ุฑุง ุฌูุนโุขูุฑ ฺฉูุฏ
- ุขูโูุง ุฑุง ุฏุฑ ูุถุง ุงุจุฑ ุฐุฎุฑู ฺฉูุฏ
- ุจู artifact ฺฉ **ูุงู** ุจุฏูุฏ (ูุซูุงู `drop`)

> ุชูุฌู: ุงฺฏุฑ artifact ููุชุดุฑ ูุดูุฏุ ูพุณ ุงุฒ ุงุชูุงู job ูุงูโูุง ุญุฐู ูโุดููุฏ.

---

## ๐ 4. ฺฉุงุฑุจุฑุฏ Artifact

Artifact ูุนูููุงู ุฏุฑ ูุฑุญููโ ุจุนุฏ **CD (Continuous Deployment)** ุงุณุชูุงุฏู ูโุดูุฏ.  
ูุฑุงุญู ูุนููู ุจู ุงู ุตูุฑุช ุงุณุช:

```
Build โ Artifact (drop) โ Deploy
```

ูุฒุงุง ุงู ุฑูุด:

- ุชุถูู ูโฺฉูุฏ ูุฑ deploy ุงุฒ **ููุงู ุฎุฑูุฌ ุชุณุชโุดุฏู** ุงูุฌุงู ุดูุฏ โ
- ุงูฺฉุงู ูฺฏูุฏุงุฑ ูุณุฎูโูุง build ุจุฑุง ุจุงุฒฺฏุดุช ุจู ูุณุฎูโูุง ูุจู โ
- ุฌุฏุงุณุงุฒ ูุญุทโูุง ุชูุณุนูุ ุชุณุช ู production โ

---

## ๐ 5. ุฌูุนโุจูุฏ

Artifact ููุงู ุฎุฑูุฌ ูุงุจู ุงุณุชูุงุฏูโ Build ุงุณุช ู ุฏุฑ Azure DevOps:

- ุจุง `dotnet publish` ุฏุฑ ูุณุฑ staging ุณุงุฎุชู ูโุดูุฏ
- ุจุง `PublishBuildArtifacts` ููุชุดุฑ ูโุดูุฏ
- ุฏุฑ ูุฑุงุญู ุจุนุฏ deployment ุงุณุชูุงุฏู ูโุดูุฏ

ุจุง ุงู ุฑูุดุ ูุฑุขูุฏ CI/CD **ูุงุจู ุชฺฉุฑุงุฑุ ุงูู ู ูุงุจู ฺฉูุชุฑู** ุฎูุงูุฏ ุจูุฏ.

---

## ๐ ุฏุงฺฏุฑุงู ุฑููุฏ (ุงุฎุชุงุฑ)

```
Source Code โ Build โ Artifact (drop) โ Deploy โ Production
```

ุงู ูุดุงู ูโุฏูุฏ ฺฉู Artifact ููุงู ุจุณุชูโ ูุงู ุงุณุช ฺฉู ุงุฒ Build ุจู Deployment ููุชูู ูโุดูุฏ.

| ูุญู ุฐุฎุฑู | ุณุฑูุฑ Azure DevOps |
| ุฏุณุชูุฑ ุงูุชุดุงุฑ | `PublishBuildArtifacts@1` |
| ูุดุงูุฏู | ุจุฎุด **Artifacts** ุฏุฑ ุตูุญูโ Pipeline Run |
| ุงุณุชูุงุฏู ูุฌุฏุฏ | ุจุง `download: current` ุฏุฑ ูุฑุงุญู ุจุนุฏ |
| ูุฒุช | ุฌุฏุงุณุงุฒ Build ู Deployุ ูพุงุฏุงุฑ ู ุชฺฉุฑุงุฑูพุฐุฑ ูุฑุงูุฏูุง |

